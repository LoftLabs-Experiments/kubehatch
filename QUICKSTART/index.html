
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
      
        <link rel="prev" href="..">
      
      
        <link rel="next" href="../BUILD/">
      
      
      <link rel="icon" href="../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.6.1, mkdocs-material-9.6.7">
    
    
      
        <title>Quickstart - KubeHatch CLI</title>
      
    
    
      <link rel="stylesheet" href="../assets/stylesheets/main.8608ea7d.min.css">
      
        
        <link rel="stylesheet" href="../assets/stylesheets/palette.06af60db.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
    <script>__md_scope=new URL("..",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
    
  </head>
  
  
    
    
    
    
    
    <body dir="ltr" data-md-color-scheme="default" data-md-color-primary="blue" data-md-color-accent="cyan">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#quickstart-guide-deploying-kubehatch-on-kubernetes" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

  

<header class="md-header md-header--shadow" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href=".." title="KubeHatch CLI" class="md-header__button md-logo" aria-label="KubeHatch CLI" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54"/></svg>

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            KubeHatch CLI
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Quickstart
            
          </span>
        </div>
      </div>
    </div>
    
      
    
    
    
    
      <label class="md-header__button md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
      </label>
      <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" tabindex="0" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
      <div class="md-header__source">
        <a href="https://github.com/LoftLabs-Experiments/kubehatch" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.7.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81"/></svg>
  </div>
  <div class="md-source__repository">
    LoftLabs-Experiments/kubehatch
  </div>
</a>
      </div>
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    



<nav class="md-nav md-nav--primary" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href=".." title="KubeHatch CLI" class="md-nav__button md-logo" aria-label="KubeHatch CLI" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54"/></svg>

    </a>
    KubeHatch CLI
  </label>
  
    <div class="md-nav__source">
      <a href="https://github.com/LoftLabs-Experiments/kubehatch" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.7.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81"/></svg>
  </div>
  <div class="md-source__repository">
    LoftLabs-Experiments/kubehatch
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href=".." class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Home
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
    
  
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          
  
  <span class="md-ellipsis">
    Quickstart
    
  </span>
  

          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        
  
  <span class="md-ellipsis">
    Quickstart
    
  </span>
  

      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#prerequisitesif-you-are-not-doing-on-the-playground" class="md-nav__link">
    <span class="md-ellipsis">
      üõ† Prerequisites(if you are not doing on the playground)
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#step-1-clone-the-repo-and-build-push-docker-image" class="md-nav__link">
    <span class="md-ellipsis">
      Step 1: Clone the repo and Build + Push Docker Image
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#step-2-create-kubernetes-secret-for-authentication-and-default-kubeconfig" class="md-nav__link">
    <span class="md-ellipsis">
      üîê Step 2: Create Kubernetes Secret for Authentication and default Kubeconfig
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#step-3-deploy-the-frontend-and-backend-manifests" class="md-nav__link">
    <span class="md-ellipsis">
      üöÄ Step 3: Deploy the frontend and backend manifests
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#step-4deploy-ingress-nginx-controller" class="md-nav__link">
    <span class="md-ellipsis">
      Step 4:Deploy ingress nginx controller
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#step-5-create-ingress" class="md-nav__link">
    <span class="md-ellipsis">
      Step 5: Create ingress
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#step-6-open-the-ui" class="md-nav__link">
    <span class="md-ellipsis">
      Step 6: Open The UI
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#using-kubehatch" class="md-nav__link">
    <span class="md-ellipsis">
      Using KubeHatch
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Using KubeHatch">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#create-vcluster-without-custom-kubeconfig" class="md-nav__link">
    <span class="md-ellipsis">
      Create vCluster without custom kubeconfig
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#cleanup" class="md-nav__link">
    <span class="md-ellipsis">
      Cleanup
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#troubleshooting" class="md-nav__link">
    <span class="md-ellipsis">
      Troubleshooting
    </span>
  </a>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../BUILD/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Build from Source
    
  </span>
  

      </a>
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#prerequisitesif-you-are-not-doing-on-the-playground" class="md-nav__link">
    <span class="md-ellipsis">
      üõ† Prerequisites(if you are not doing on the playground)
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#step-1-clone-the-repo-and-build-push-docker-image" class="md-nav__link">
    <span class="md-ellipsis">
      Step 1: Clone the repo and Build + Push Docker Image
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#step-2-create-kubernetes-secret-for-authentication-and-default-kubeconfig" class="md-nav__link">
    <span class="md-ellipsis">
      üîê Step 2: Create Kubernetes Secret for Authentication and default Kubeconfig
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#step-3-deploy-the-frontend-and-backend-manifests" class="md-nav__link">
    <span class="md-ellipsis">
      üöÄ Step 3: Deploy the frontend and backend manifests
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#step-4deploy-ingress-nginx-controller" class="md-nav__link">
    <span class="md-ellipsis">
      Step 4:Deploy ingress nginx controller
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#step-5-create-ingress" class="md-nav__link">
    <span class="md-ellipsis">
      Step 5: Create ingress
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#step-6-open-the-ui" class="md-nav__link">
    <span class="md-ellipsis">
      Step 6: Open The UI
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#using-kubehatch" class="md-nav__link">
    <span class="md-ellipsis">
      Using KubeHatch
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Using KubeHatch">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#create-vcluster-without-custom-kubeconfig" class="md-nav__link">
    <span class="md-ellipsis">
      Create vCluster without custom kubeconfig
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#cleanup" class="md-nav__link">
    <span class="md-ellipsis">
      Cleanup
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#troubleshooting" class="md-nav__link">
    <span class="md-ellipsis">
      Troubleshooting
    </span>
  </a>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  


  
  


<h1 id="quickstart-guide-deploying-kubehatch-on-kubernetes">üöÄ Quickstart Guide: Deploying KubeHatch on Kubernetes</h1>
<p>This guide walks you through deploying KubeHatch on a Kubernetes cluster. In this Quickstart we will do it on <a href="https://labs.iximiuz.com/playgrounds">IX Playground</a></p>
<h2 id="prerequisitesif-you-are-not-doing-on-the-playground">üõ† Prerequisites(if you are not doing on the playground)</h2>
<p>Ensure you have the following tools installed before proceeding:
- <a href="https://kubernetes.io/docs/tasks/tools/">kubectl</a>
- <a href="https://helm.sh/docs/intro/install/">Helm</a>
- Access to a Kubernetes cluster</p>
<hr />
<h2 id="step-1-clone-the-repo-and-build-push-docker-image">Step 1: Clone the repo and Build + Push Docker Image</h2>
<p>Ensure you're logged in to your container registry (e.g., Docker Hub).</p>
<pre><code>git clone https://github.com/LoftLabs-Experiments/kubehatch.git
cd kubehatch
docker build -t ttl.sh/kubehatch-backend:v1 -f backend/Dockerfile.backend backend/
docker push ttl.sh/kubehatch-backend
docker build -t ttl.sh/kubehatch-frontend:v1 -f frontend/Dockerfile.frontend frontend/
docker push ttl.sh/kubehatch-frontend:latest
</code></pre>
<p>Replace <code>ttl.sh</code> with your registry and image name.</p>
<h2 id="step-2-create-kubernetes-secret-for-authentication-and-default-kubeconfig">üîê Step 2: Create Kubernetes Secret for Authentication and default Kubeconfig</h2>
<p>Before deploying, create a <strong>Kubernetes Secret</strong> to store sensitive credentials.</p>
<pre><code class="language-sh">echo &quot;admin:$(openssl passwd -apr1 saiyam)&quot; &gt; auth
kubectl create secret generic vcluster-basic-auth --from-file=auth
kubectl create secret generic vcluster-default-kubeconfig --from-file=kubeconfig=/root/.kube/config -n default
</code></pre>
<p>NOTE - Make sure to replace the path of your kubeconfig file.</p>
<h2 id="step-3-deploy-the-frontend-and-backend-manifests">üöÄ Step 3: Deploy the frontend and backend manifests</h2>
<p>Replace the backend and frontend deployment with the images you created and then deploy the manifest from the k8s folder.</p>
<pre><code>kubectl apply -f k8s/backenddeploy.yaml
kubectl apply -f k8s/deploymentfrontend.yaml
kubectl apply -f k8s/role.yaml
kubectl apply -f k8s/svcfrontend.yaml
kubectl apply -f k8s/backendsvc.yaml
</code></pre>
<h2 id="step-4deploy-ingress-nginx-controller">Step 4:Deploy ingress nginx controller</h2>
<pre><code>kubectl apply -f https://raw.githubusercontent.com/kubernetes/ingress-nginx/controller-v1.9.4/deploy/static/provider/cloud/deploy.yaml

</code></pre>
<h2 id="step-5-create-ingress">Step 5: Create ingress</h2>
<p>If you are on the playground then you need to first expose the public link on the nodeport of the ingress and then use that as host in your ingress. Sample one from the playground is there in current ingress but it will be different for all. If you are on cluster then point to domain which has the A record of ingress controller LoadBalancer IP.</p>
<pre><code>kubectl apply -f k8s/ingress.yaml
</code></pre>
<p><img alt="" src="../images/ingresssvc.png" />
<img alt="" src="../images/ingresshost.png" /></p>
<h2 id="step-6-open-the-ui">Step 6: Open The UI</h2>
<p>You need to open up the ingress public URL in the browser and Login.
Currently the username is <code>admin</code> and password is <code>saiyam</code> and after that you can select checkboxes and wait for a couple of minutes for KubeConfig to Populate.</p>
<h2 id="using-kubehatch">Using KubeHatch</h2>
<p>Create vCluster with custom kubeconfig</p>
<ul>
<li>Open the UI.</li>
<li>Enter a vCluster name.</li>
<li>Optional: Select kubeconfig file (if not provided, the default cluster kubeconfig is used).</li>
<li>Optional: Select if you want to expose your vcluster as LoadBalancer service</li>
<li>Click Create.</li>
<li>Wait for vCluster creation to complete. Your generated kubeconfig will appear, and you can download it for use.</li>
</ul>
<h4 id="create-vcluster-without-custom-kubeconfig">Create vCluster without custom kubeconfig</h4>
<p>Simply provide a name and click Create. The system will automatically use the default kubeconfig from the cluster.</p>
<h2 id="cleanup">Cleanup</h2>
<p>Delete virtual clusters manually using:</p>
<pre><code>vcluster delete &lt;cluster-name&gt; -n vcluster-&lt;cluster-name&gt;
</code></pre>
<h2 id="troubleshooting">Troubleshooting</h2>
<p>Verify RBAC permissions are correctly set.</p>
<p>Check logs:</p>
<pre><code>kubectl logs deploy/vcluster-backend
</code></pre>
<p>Enjoy creating on demand Kubernetes clusters seamlessly with KubeHatch!</p>












                
              </article>
            </div>
          
          
<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
      </main>
      
        <footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    
    <script id="__config" type="application/json">{"base": "..", "features": [], "search": "../assets/javascripts/workers/search.f8cc74c7.min.js", "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}}</script>
    
    
      <script src="../assets/javascripts/bundle.c8b220af.min.js"></script>
      
    
  </body>
</html>