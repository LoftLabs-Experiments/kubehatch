{"config":{"lang":["en"],"separator":"[\\s\\-]+","pipeline":["stopWordFilter"]},"docs":[{"location":"","title":"KubeHatch - Minimalistic Internal Kubernetes platform","text":"<p>KubeHatch simplifies creating virtual Kubernetes clusters (vClusters) dynamically using a user-friendly web UI, automating deployment and management tasks.</p>"},{"location":"#overview","title":"Overview","text":"<p>This CLI helps you easily create and manage isolated ephemeral Kubernetes clusters (vClusters) for quick and efficient testing, validation, and automation scenarios. You can provide your own kubeconfig or rely on a default kubeconfig of the cluster on which the CLI is running.</p>"},{"location":"#features","title":"Features","text":"<ul> <li>Create isolated Kubernetes clusters (vClusters).</li> <li>Optional High Availability (HA) setup.</li> <li>Uses user-provided or default kubeconfig.</li> <li>Automated exposure of vClusters via LoadBalancer services.</li> <li>Complete self-hosted web UI.</li> </ul>"},{"location":"#prerequisites","title":"Prerequisites","text":"<ul> <li>Kubernetes Cluster</li> <li>Helm CLI</li> <li>vCluster CLI</li> </ul>"},{"location":"#step-by-step-setup","title":"Step-by-Step Setup","text":""},{"location":"#1-clone-the-repository","title":"1. Clone the Repository","text":"<pre><code>git clone https://github.com/LoftLabs-Experiments/kubehatch.git\ncd kubehatch\n</code></pre>"},{"location":"#step-2-build-and-push-docker-image","title":"Step 2: Build and Push Docker Image","text":"<p>Ensure you're logged in to your container registry (e.g., Docker Hub).</p> <pre><code>docker build -t ttl.sh/kubehatch-backend -f backend/Dockerfile.backend backend/\ndocker push ttl.sh/kubehatch-backend\ndocker build -t ttl.sh/kubehatch-frontend -f frontend/Dockerfile.frontend frontend/\ndocker push ttl.sh/kubehatch-frontend:latest\n</code></pre> <p>Replace <code>ttl.sh</code> with your registry and image name.</p>"},{"location":"#step-3-deploy-to-kubernetes","title":"Step 3: Deploy to Kubernetes","text":"<p>Backend Deployment</p> <p>Apply Kubernetes manifests:</p> <pre><code>kubectl apply -f backenddeploy.yaml\nkubectl apply -f backendsvc.yaml\n</code></pre>"},{"location":"#step-3-configure-frontend-and-ingress","title":"Step 3: Configure Frontend and Ingress","text":"<p>Edit your ingress.yaml to point to the correct backend service. Then apply it:</p> <pre><code>kubectl apply -f ingress.yaml\n</code></pre> <p>Ensure your domain points to your ingress controller IP.</p>"},{"location":"#step-4-using-the-ui","title":"Step 4: Using the UI","text":"<p>Open your UI hosted via ingress in your browser:</p> <p><code>http://&lt;your-ingress-domain&gt;</code></p>"},{"location":"#using-kubehatch","title":"Using KubeHatch","text":"<p>Create vCluster with custom kubeconfig</p> <ul> <li>Open the UI.</li> <li>Enter a vCluster name.</li> <li>Optional: Select kubeconfig file (if not provided, the default cluster kubeconfig is used).</li> <li>Click Create.</li> <li>Wait for vCluster creation to complete. Your generated kubeconfig will appear, and you can download it for use.</li> </ul>"},{"location":"#create-vcluster-without-custom-kubeconfig","title":"Create vCluster without custom kubeconfig","text":"<p>Simply provide a name and click Create. The system will automatically use the default kubeconfig from the cluster.</p>"},{"location":"#cleanup","title":"Cleanup","text":"<p>Delete virtual clusters manually using:</p> <pre><code>vcluster delete &lt;cluster-name&gt; -n vcluster-&lt;cluster-name&gt;\n</code></pre>"},{"location":"#troubleshooting","title":"Troubleshooting","text":"<p>Verify RBAC permissions are correctly set.</p> <p>Check logs:</p> <pre><code>kubectl logs deploy/vcluster-backend\n</code></pre> <p>Enjoy creating ephemeral Kubernetes environments seamlessly with KubeHatch!</p>"},{"location":"BUILD/","title":"\ud83d\udee0\ufe0f Building KubeHatch Locally","text":"<p>This guide will walk you through setting up and building the KubeHatch CLI from source.</p>"},{"location":"BUILD/#prerequisites","title":"\ud83d\udccc Prerequisites","text":"<p>Before you start, ensure you have the following installed:</p> <ul> <li>Go (1.22 or later) \u2192 Download Go</li> <li>Git (for cloning the repository) \u2192 Install Git</li> <li>A Kubernetes cluster (for testing, optional)</li> <li>Kubectl &amp; Helm (optional, for cluster interaction)</li> </ul>"},{"location":"BUILD/#step-1-clone-the-repository","title":"\ud83d\ude80 Step 1: Clone the Repository","text":"<p>First, clone the repository from GitHub:</p> <pre><code>git clone https://github.com/LoftLabs-Experiments/kubehatch.git\ncd kubehatch\n</code></pre>"},{"location":"BUILD/#step-2-install-dependencies","title":"\u2699\ufe0f Step 2: Install Dependencies","text":"<p>Navigate to the backend/ directory and fetch the required Go modules:</p> <pre><code>cd backend\ngo mod github.com/YOUR-USERNAME/kubehatch\ngo mod tidy\n</code></pre> <p>\ud83c\udfd7\ufe0f Step 3: Build the KubeHatch CLI Run the following command inside the backend/ directory to compile the binary:</p> <pre><code>go build -o kubehatch main.go\n\n</code></pre> <p>This will generate an executable named kubehatch inside the backend/ directory.</p>"},{"location":"BUILD/#step-4-verify-installation","title":"Step 4: Verify Installation","text":"<p>Check if the CLI is built correctly by running:</p> <pre><code>./kubehatch\n</code></pre> <p>You should see the available commands and usage.</p>"},{"location":"BUILD/#additional-notes","title":"\ud83d\udcdd Additional Notes","text":"<p>If you make changes to dependencies, always run go mod tidy before building.</p> <p>To cross-compile for different operating systems, use:</p> <pre><code>GOOS=linux GOARCH=amd64 go build -o kubehatch-linux main.go\n</code></pre> <p>\ud83c\udf89 Congratulations! You have successfully built the KubeHatch CLI from source. \ud83d\ude80</p> <p>For further details, visit the Quickstart Guide.</p>"},{"location":"QUICKSTART/","title":"\ud83d\ude80 Quickstart Guide: Deploying KubeHatch on Kubernetes","text":"<p>This guide walks you through deploying KubeHatch on a Kubernetes cluster. In this Quickstart we will do it on IX Playground</p>"},{"location":"QUICKSTART/#prerequisitesif-you-are-not-doing-on-the-playground","title":"\ud83d\udee0 Prerequisites(if you are not doing on the playground)","text":"<p>Ensure you have the following tools installed before proceeding: - kubectl - Helm - Access to a Kubernetes cluster</p>"},{"location":"QUICKSTART/#step-1-clone-the-repo-and-build-push-docker-image","title":"Step 1: Clone the repo and Build + Push Docker Image","text":"<p>Ensure you're logged in to your container registry (e.g., Docker Hub).</p> <pre><code>git clone https://github.com/LoftLabs-Experiments/kubehatch.git\ncd kubehatch\ndocker build -t ttl.sh/kubehatch-backend:v1 -f backend/Dockerfile.backend backend/\ndocker push ttl.sh/kubehatch-backend\ndocker build -t ttl.sh/kubehatch-frontend:v1 -f frontend/Dockerfile.frontend frontend/\ndocker push ttl.sh/kubehatch-frontend:latest\n</code></pre> <p>Replace <code>ttl.sh</code> with your registry and image name.</p>"},{"location":"QUICKSTART/#step-2-create-kubernetes-secret-for-authentication-and-default-kubeconfig","title":"\ud83d\udd10 Step 2: Create Kubernetes Secret for Authentication and default Kubeconfig","text":"<p>Before deploying, create a Kubernetes Secret to store sensitive credentials.</p> <pre><code>echo \"admin:$(openssl passwd -apr1 saiyam)\" &gt; auth\nkubectl create secret generic vcluster-basic-auth --from-file=auth\nkubectl create secret generic vcluster-default-kubeconfig --from-file=kubeconfig=/root/.kube/config -n default\n</code></pre> <p>NOTE - Make sure to replace the path of your kubeconfig file.</p>"},{"location":"QUICKSTART/#step-3-deploy-the-frontend-and-backend-manifests","title":"\ud83d\ude80 Step 3: Deploy the frontend and backend manifests","text":"<p>Replace the backend and frontend deployment with the images you created and then deploy the manifest from the k8s folder.</p> <pre><code>kubectl apply -f k8s/backenddeploy.yaml\nkubectl apply -f k8s/deploymentfrontend.yaml\nkubectl apply -f k8s/role.yaml\nkubectl apply -f k8s/svcfrontend.yaml\nkubectl apply -f k8s/backendsvc.yaml\n</code></pre>"},{"location":"QUICKSTART/#step-4deploy-ingress-nginx-controller","title":"Step 4:Deploy ingress nginx controller","text":"<pre><code>kubectl apply -f https://raw.githubusercontent.com/kubernetes/ingress-nginx/controller-v1.9.4/deploy/static/provider/cloud/deploy.yaml\n\n</code></pre>"},{"location":"QUICKSTART/#step-5-create-ingress","title":"Step 5: Create ingress","text":"<p>If you are on the playground then you need to first expose the public link on the nodeport of the ingress and then use that as host in your ingress. Sample one from the playground is there in current ingress but it will be different for all. If you are on cluster then point to domain which has the A record of ingress controller LoadBalancer IP.</p> <pre><code>kubectl apply -f k8s/ingress.yaml\n</code></pre> <p> </p>"},{"location":"QUICKSTART/#step-6-open-the-ui","title":"Step 6: Open The UI","text":"<p>You need to open up the ingress public URL in the browser and Login. Currently the username is <code>admin</code> and password is <code>saiyam</code> and after that you can select checkboxes and wait for a couple of minutes for KubeConfig to Populate.</p>"}]}